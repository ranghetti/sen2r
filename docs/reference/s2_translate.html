<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Convert from SAFE format — s2_translate • sen2r</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Convert from SAFE format — s2_translate" />
<meta property="og:description" content="The function build a virtual raster from a Sentinel2 SAFE product,
eventually translating it in another spatial format.
For now, only L1C and L2a with long name (&amp;lt; 2016/12/06) are recognised.
Output vrt is at 10m resolution." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sen2r</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.3.8</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code"></span>
     
     Reference
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-book"></span>
     
     Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/installation.html">Installation</a>
    </li>
    <li>
      <a href="../articles/docker.html">Run in a Docker container</a>
    </li>
    <li>
      <a href="../articles/sen2r_gui.html">Using sen2r() from the GUI</a>
    </li>
    <li>
      <a href="../articles/sen2r_cmd.html">Using sen2r() from the command line</a>
    </li>
    <li>
      <a href="../articles/outstructure.html">Output file structure</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">
    <span class="fa fa-newspaper"></span>
     
     Changelog
  </a>
</li>
<li>
  <a href="http://luigi.ranghetti.info">
    <span class="fa fa-user"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/ranghetti/sen2r/">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Convert from SAFE format</h1>
    <small class="dont-index">Source: <a href='https://github.com/ranghetti/sen2r/blob/master/R/s2_translate.R'><code>R/s2_translate.R</code></a></small>
    <div class="hidden name"><code>s2_translate.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The function build a virtual raster from a Sentinel2 SAFE product,
eventually translating it in another spatial format.
For now, only L1C and L2a with long name (&lt; 2016/12/06) are recognised.
Output vrt is at 10m resolution.</p>
    </div>

    <pre class="usage"><span class='fu'>s2_translate</span>(
  <span class='no'>infile</span>,
  <span class='kw'>outdir</span> <span class='kw'>=</span> <span class='st'>"."</span>,
  <span class='kw'>subdirs</span> <span class='kw'>=</span> <span class='fl'>NA</span>,
  <span class='kw'>tmpdir</span> <span class='kw'>=</span> <span class='fl'>NA</span>,
  <span class='kw'>rmtmp</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>prod_type</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>tiles</span> <span class='kw'>=</span> <span class='fl'>NA</span>,
  <span class='kw'>res</span> <span class='kw'>=</span> <span class='st'>"10m"</span>,
  <span class='kw'>format</span> <span class='kw'>=</span> <span class='st'>"VRT"</span>,
  <span class='kw'>compress</span> <span class='kw'>=</span> <span class='st'>"DEFLATE"</span>,
  <span class='kw'>bigtiff</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>vrt_rel_paths</span> <span class='kw'>=</span> <span class='fl'>NA</span>,
  <span class='kw'>utmzone</span> <span class='kw'>=</span> <span class='st'>""</span>,
  <span class='kw'>overwrite</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>infile</th>
      <td><p>Full path of the input SAFE folder (alternatively,
full path of the xml file of the product with metadata).</p></td>
    </tr>
    <tr>
      <th>outdir</th>
      <td><p>(optional) Full name of the output directory where
the files should be created (default: current directory).
<code>outdir</code> can bot be an existing or non-existing directory (in the
second case, its parent directory must exists).
If it is a relative path, it is expanded from the directory of <code>infile</code>.</p></td>
    </tr>
    <tr>
      <th>subdirs</th>
      <td><p>(optional) Logical: if TRUE, different output products are
placed in separated <code>outdir</code> subdirectories; if FALSE, they are placed in
<code>outdir</code> directory; if NA (default), subdirectories are created only if
<code>prod_type</code> has length &gt; 1.</p></td>
    </tr>
    <tr>
      <th>tmpdir</th>
      <td><p>(optional) Path where intermediate files (VRT) will be created.
Default is a temporary directory.
If <code>tmpdir</code> is a non-empty folder, a random subdirectory will be used.</p></td>
    </tr>
    <tr>
      <th>rmtmp</th>
      <td><p>(optional) Logical: should temporary files be removed?
(Default: TRUE).
This parameter takes effect only if the output files are not VRT
(in this case temporary files cannot be deleted, because rasters of source
bands are included within them).</p></td>
    </tr>
    <tr>
      <th>prod_type</th>
      <td><p>(optional) Vector of types to be produced as outputs
(see <a href='safe_shortname.html'>safe_shortname</a> for the list of accepted values). Default is
reflectance ("TOA" for level 1C, "BOA" for level 2A).</p></td>
    </tr>
    <tr>
      <th>tiles</th>
      <td><p>(optional) Character vector with the desired output tile IDs
(id specified IDs are not present in the input SAFE product, they are not
produced). Default (NA) is to process all the found tiles.</p></td>
    </tr>
    <tr>
      <th>res</th>
      <td><p>(optional) Spatial resolution (one between '10m', '20m' or '60m');
default is '10m'. Notice that, choosing '10m' or '20m', bands with lower
resolution will be rescaled to <code>res</code>. Band 08 is used with <code>res = '10m'</code>,
band 08A with <code>res = '20m'</code> and <code>res = '60m'</code>.</p></td>
    </tr>
    <tr>
      <th>format</th>
      <td><p>(optional) Format of the output file (in a
format recognised by GDAL). Default value is "VRT" (Virtual Raster).</p></td>
    </tr>
    <tr>
      <th>compress</th>
      <td><p>(optional) In the case a GTiff format is
chosen, the compression indicated with this parameter is used.</p></td>
    </tr>
    <tr>
      <th>bigtiff</th>
      <td><p>(optional) Logical: if TRUE, the creation of a BigTIFF is
forced (default is FALSE).
This option is used only in the case a GTiff format was chosen.</p></td>
    </tr>
    <tr>
      <th>vrt_rel_paths</th>
      <td><p>(optional) Logical: if TRUE (default on Linux),
the paths present in the VRT output file are relative to the VRT position;
if FALSE (default on Windows), they are absolute.
This takes effect only with <code>format = "VRT"</code>.</p></td>
    </tr>
    <tr>
      <th>utmzone</th>
      <td><p>(optional) UTM zone of output products (default:
the first one retrieved from input granules),
being a 3-length character (e.g. <code>"32N"</code>).
Note that this function
does not perform reprojections: if no granules refer to the specified
UTM zone, no output is created.</p></td>
    </tr>
    <tr>
      <th>overwrite</th>
      <td><p>Logical value: should existing output files be
overwritten? (default: FALSE)</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A vector with the names of the created output files
(just created or already existing).</p>
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>License: GPL 3.0</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>L. Ranghetti, M. Boschetti, F. Nutini, L. Busetto (2020).
"sen2r": An R toolbox for automatically downloading and preprocessing
Sentinel-2 satellite data. <em>Computers &amp; Geosciences</em>, 139, 104473. DOI:
<a href='https://doi.org/10.1016/j.cageo.2020.104473'>10.1016/j.cageo.2020.104473</a>,
URL: <a href='http://sen2r.ranghetti.info/'>http://sen2r.ranghetti.info/</a>.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
<span class='no'>s2_l1c_example</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span>(
  <span class='st'>"/existing/path"</span>,
  <span class='st'>"S2A_MSIL1C_20170603T101031_N0205_R022_T32TQQ_20170603T101026.SAFE"</span>)
<span class='no'>s2_l1c_example</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span>(
  <span class='st'>"/existing/path"</span>,
  <span class='st'>"S2A_MSIL2A_20170603T101031_N0205_R022_T32TQQ_20170603T101026.SAFE"</span>)

<span class='co'># Create a single TOA GeoTIFF in the same directory</span>
<span class='fu'>s2_translate</span>(<span class='no'>s2_l1c_example</span>, <span class='kw'>format</span><span class='kw'>=</span><span class='st'>"GTiff"</span>)

<span class='co'># Create a single BOA VRT with a custom name</span>
<span class='fu'>s2_translate</span>(
  <span class='no'>s2_l2a_example</span>,
  <span class='st'>"/new/path/example_sentinel2_sr.vrt"</span>,
  <span class='kw'>vrt_rel_paths</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>
)

<span class='co'># Create three products (ENVI) in the same directory at 60m resolution</span>
<span class='fu'>s2_translate</span>(
  <span class='no'>s2_example</span>,
  <span class='kw'>format</span> <span class='kw'>=</span> <span class='st'>"ENVI"</span>,
  <span class='kw'>prod_type</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"BOA"</span>,<span class='st'>"TCI"</span>,<span class='st'>"SCL"</span>),
  <span class='kw'>res</span> <span class='kw'>=</span> <span class='st'>"60m"</span>,
  <span class='kw'>subdirs</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>
)
}</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Luigi Ranghetti, Lorenzo Busetto.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


