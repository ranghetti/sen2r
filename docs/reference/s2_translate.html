<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Convert from SAFE format — s2_translate • SALTO: Sentinel-2 And Landsat TOolbox</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Google analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-11080708-8', 'auto');
  ga('send', 'pageview');

</script>

  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">salto</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">Home</a>
</li>
<li>
  <a href="../reference/index.html">Function reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/ranghetti/salto/">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Convert from SAFE format</h1>
    </div>

    
    <p>The function build a virtual raster from a Sentinel2 SAFE product,
eventually translating it in another spatial format.
For now, only L1C and L2a with long name (&lt; 2016/12/06) are recognised.
Output vrt is at 10m resolution.</p>
    

    <pre class="usage"><span class='fu'>s2_translate</span>(<span class='no'>infile</span>, <span class='kw'>outdir</span> <span class='kw'>=</span> <span class='st'>"."</span>, <span class='kw'>subdirs</span> <span class='kw'>=</span> <span class='fl'>NA</span>, <span class='kw'>tmpdir</span> <span class='kw'>=</span> <span class='fl'>NA</span>,
  <span class='kw'>prod_type</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>tiles</span> <span class='kw'>=</span> <span class='fl'>NA</span>, <span class='kw'>res</span> <span class='kw'>=</span> <span class='st'>"10m"</span>, <span class='kw'>format</span> <span class='kw'>=</span> <span class='st'>"VRT"</span>,
  <span class='kw'>compress</span> <span class='kw'>=</span> <span class='st'>"DEFLATE"</span>, <span class='kw'>vrt_rel_paths</span> <span class='kw'>=</span> <span class='fl'>NA</span>, <span class='kw'>utmzone</span> <span class='kw'>=</span> <span class='st'>""</span>,
  <span class='kw'>overwrite</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>infile</th>
      <td><p>Full path of the input SAFE folder (alternatively,
full path of the xml file of the product with metadata).</p></td>
    </tr>
    <tr>
      <th>outdir</th>
      <td><p>(optional) Full name of the output directory where
the files should be created (default: current directory).
<code>outdir</code> can bot be an existing or non-existing directory (in the
second case, its parent directory must exists).
If it is a relative path, it is expanded from the directory of <code>infile</code>.</p></td>
    </tr>
    <tr>
      <th>subdirs</th>
      <td><p>(optional) Logical: if TRUE, differet output products are
placed in separated <code>outdir</code> subdirectories; if FALSE, they are placed in
<code>outdir</code> directory; if NA (default), subdirectories are created only if
<code>prod_type</code> has length &gt; 1.</p></td>
    </tr>
    <tr>
      <th>tmpdir</th>
      <td><p>(optional) Path where intermediate VRT will be created.
Default is in a hidden subdirectory (called <code>.vrt</code>) of the parent
directory of the SAFE folder. Set <code>tmpdir=tempdir()</code> if you do not want to
keep the intermediate files after reboot.</p></td>
    </tr>
    <tr>
      <th>prod_type</th>
      <td><p>(optional) Vector of types to be produced as outputs
(see s2_shortname for the list of accepted values). Default is
reflectance ("TOA" for level 1C, "BOA" for level 2A).</p></td>
    </tr>
    <tr>
      <th>tiles</th>
      <td><p>(optional) Character vector with the desired output tile IDs
(id specified IDs are not present in the input SAFE product, they are not
produced). Default (NA) is to process all the found tiles.</p></td>
    </tr>
    <tr>
      <th>res</th>
      <td><p>(optional) Spatial resolution (one between '10m', '20m' or '60m');
default is '10m'. Notice that, choosing '10m' or '20m', bands with lower
resolution will be rescaled to <code>res</code>. Band 08 is used with <code>res = '10m'</code>,
band 08A with <code>res = '20m'</code> and <code>res = '60m'</code>.</p></td>
    </tr>
    <tr>
      <th>format</th>
      <td><p>(optional) Format of the output file (in a
format recognised by GDAL). Default value is "VRT" (Virtual Raster).</p></td>
    </tr>
    <tr>
      <th>compress</th>
      <td><p>(optional) In the case a GTiff format is
chosen, the compression indicated with this parameter is used.</p></td>
    </tr>
    <tr>
      <th>vrt_rel_paths</th>
      <td><p>(optional) Logical: if TRUE (default on Linux),
the paths present in the VRT output file are relative to the VRT position;
if FALSE (default on Windows), they are absolute.
This takes effect only with <code>format = "VRT"</code>.</p></td>
    </tr>
    <tr>
      <th>utmzone</th>
      <td><p>(optional) UTM zone of output products (default:
the first one retrieved from input granules). Note that this function
does not perform reprojections: if no granules refer to the specified
UTM zone, no output is created.</p></td>
    </tr>
    <tr>
      <th>overwrite</th>
      <td><p>Logical value: should existing output files be
overwritten? (default: FALSE)</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A vector with the names of the created output files
(just created or already existing).</p>
    
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>License: GPL 3.0</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># NOT RUN {</span>
<span class='no'>s2_l1c_example</span> <span class='kw'>&lt;-</span> <span class='fu'>file.path</span>(
  <span class='st'>"/existing/path"</span>,
  <span class='st'>"S2A_MSIL1C_20170603T101031_N0205_R022_T32TQQ_20170603T101026.SAFE"</span>)
<span class='no'>s2_l1c_example</span> <span class='kw'>&lt;-</span> <span class='fu'>file.path</span>(
  <span class='st'>"/existing/path"</span>,
  <span class='st'>"S2A_MSIL2A_20170603T101031_N0205_R022_T32TQQ_20170603T101026.SAFE"</span>)

<span class='co'># Create a single TOA GeoTIFF in the same directory</span>
<span class='fu'>s2_translate</span>(<span class='no'>s2_l1c_example</span>, <span class='kw'>format</span><span class='kw'>=</span><span class='st'>"GTiff"</span>)

<span class='co'># Create a single BOA VRT with a custom name</span>
<span class='fu'>s2_translate</span>(<span class='no'>s2_l2a_example</span>, <span class='st'>"/new/path/example_sentinel2_sr.vrt"</span>,
  <span class='kw'>vrt_rel_paths</span><span class='kw'>=</span><span class='fl'>TRUE</span>)

<span class='co'># Create three products (ENVI) in the same directory at 60m resolution</span>
<span class='fu'>s2_translate</span>(<span class='no'>s2_example</span>, <span class='kw'>format</span><span class='kw'>=</span><span class='st'>"ENVI"</span>, <span class='kw'>prod_type</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='st'>"BOA"</span>,<span class='st'>"TCI"</span>,<span class='st'>"SCL"</span>),
  <span class='kw'>res</span><span class='kw'>=</span><span class='st'>"60m"</span>, <span class='kw'>subdirs</span><span class='kw'>=</span><span class='fl'>TRUE</span>)
<span class='co'># }</span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#note">Note</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Luigi Ranghetti, phD (2017) <a href='mailto:ranghetti.l@irea.cnr.it'>ranghetti.l@irea.cnr.it</a>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Luigi Ranghetti, Lorenzo Busetto.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
