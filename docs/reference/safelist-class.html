<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Format for SAFE archive lists — safelist-class • sen2r</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Format for SAFE archive lists — safelist-class"><meta property="og:description" content="safelist is a format thought to manage lists of SAFE
Sentinel.2 archives.
It is a named character in which names are SAFE codes
(e.g. S2A_MSIL2A_20170507T102031_N0205_R065_T32TNR_20170507T102319.SAFE),
and values are URLs used to retrieve them from ESA API Hub (e.g.
https://apihub.copernicus.eu/apihub/odata/v1/Products('a4a026c0-db7b-4ba8-9b09-53027ab0d7ab')/$value).
Some attributes may be included, basically information retrieved by
function s2_list containing product metadata.
Moreover, the attribute online (retrieved by function safe_is_online
may contain logical values (TRUE for products available for download,
FALSE for products stored in the Long Term Archive).
The class can be generated as an output of function s2_list, or converting
named characters (with the same structures), data.frames or data.tables
(including the columns name and url) using as (see examples).
Objects of class safelist can be converted to named character, data.frames
or data.tables (see examples). The conversion to data.frame / data.table is
useful for reading hidden attributes."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sen2r</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.5.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"></ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code"></span>
     
     Reference
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fa fa-book"></span>
     
     Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/installation.html">Installation</a>
    </li>
    <li>
      <a href="../articles/docker.html">Run in a Docker container</a>
    </li>
    <li>
      <a href="../articles/sen2r_gui.html">Using sen2r() from the GUI</a>
    </li>
    <li>
      <a href="../articles/sen2r_cmd.html">Using sen2r() from the command line</a>
    </li>
    <li>
      <a href="../articles/outstructure.html">Output file structure</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">
    <span class="fa fa-newspaper"></span>
     
     Changelog
  </a>
</li>
<li>
  <a href="http://luigi.ranghetti.info" class="external-link">
    <span class="fa fa-user"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/ranghetti/sen2r/" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Format for SAFE archive lists</h1>
    <small class="dont-index">Source: <a href="https://github.com/ranghetti/sen2r/blob/HEAD/R/safelist-class.R" class="external-link"><code>R/safelist-class.R</code></a></small>
    <div class="hidden name"><code>safelist-class.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>safelist</code> is a format thought to manage lists of SAFE
Sentinel.2 archives.
It is a named character in which names are SAFE codes
(e.g. <code>S2A_MSIL2A_20170507T102031_N0205_R065_T32TNR_20170507T102319.SAFE</code>),
and values are URLs used to retrieve them from ESA API Hub (e.g.
<code>https://apihub.copernicus.eu/apihub/odata/v1/Products('a4a026c0-db7b-4ba8-9b09-53027ab0d7ab')/$value</code>).
Some attributes may be included, basically information retrieved by
function <a href="s2_list.html">s2_list</a> containing product metadata.
Moreover, the attribute <code>online</code> (retrieved by function <a href="safe_is_online.html">safe_is_online</a>
may contain logical values (TRUE for products available for download,
FALSE for products stored in the Long Term Archive).</p>
<p>The class can be generated as an output of function <a href="s2_list.html">s2_list</a>, or converting
named characters (with the same structures), data.frames or data.tables
(including the columns <code>name</code> and <code>url</code>) using as (see examples).
Objects of class <code>safelist</code> can be converted to named character, data.frames
or data.tables (see examples). The conversion to data.frame / data.table is
useful for reading hidden attributes.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for safelist</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="va">x</span>, row.names <span class="op">=</span> <span class="cn">NULL</span>, optional <span class="op">=</span> <span class="cn">FALSE</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for safelist</span></span>
<span><span class="fu">as.data.table</span><span class="op">(</span><span class="va">x</span>, keep.rownames <span class="op">=</span> <span class="cn">FALSE</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for safelist</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for safelist</span></span>
<span><span class="fu">st_as_sf</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for safelist</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="note">
    <h2>Note</h2>
    <p>License: GPL 3.0</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>L. Ranghetti, M. Boschetti, F. Nutini, L. Busetto (2020).
"sen2r": An R toolbox for automatically downloading and preprocessing
Sentinel-2 satellite data. <em>Computers &amp; Geosciences</em>, 139, 104473.
<a href="https://doi.org/10.1016/j.cageo.2020.104473" class="external-link">doi:10.1016/j.cageo.2020.104473</a>
, URL: <a href="https://sen2r.ranghetti.info/" class="external-link">https://sen2r.ranghetti.info/</a>.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Luigi Ranghetti, phD (2019)</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="va">pos</span> <span class="op">&lt;-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/sfc.html" class="external-link">st_sfc</a></span><span class="op">(</span><span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st.html" class="external-link">st_point</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">9.85</span>,<span class="fl">45.81</span><span class="op">)</span><span class="op">)</span>, crs <span class="op">=</span> <span class="fl">4326</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">time_window</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2017-05-01"</span>, <span class="st">"2017-05-31"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Create an object of class safelist</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="scihub_login.html">is_scihub_configured</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">list_safe</span> <span class="op">&lt;-</span> <span class="fu"><a href="s2_list.html">s2_list</a></span><span class="op">(</span>spatial_extent <span class="op">=</span> <span class="va">pos</span>, time_interval <span class="op">=</span> <span class="va">time_window</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">list_safe</span> <span class="op">&lt;-</span> <span class="fu">as</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"safelist"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Spherical geometry (s2) switched off</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> old-style crs object detected; please recreate object with a recent sf::st_crs()</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> old-style crs object detected; please recreate object with a recent sf::st_crs()</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> old-style crs object detected; please recreate object with a recent sf::st_crs()</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Spherical geometry (s2) switched on</span>
<span class="r-in"><span><span class="va">list_safe</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> A named vector with 3 SAFE archives.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                      S2A_MSIL2A_20170507T102031_N0205_R065_T32TNR_20170507T102319.SAFE </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> "https://apihub.copernicus.eu/apihub/odata/v1/Products('a4a026c0-db7b-4ba8-9b09-53027ab0d7ab')/$value" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                      S2A_MSIL2A_20170517T102031_N0205_R065_T32TNR_20170517T102352.SAFE </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> "https://apihub.copernicus.eu/apihub/odata/v1/Products('6b7bb7bb-7598-45ac-9f2c-a3bd9cdc092f')/$value" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                      S2A_MSIL2A_20170527T102031_N0205_R065_T32TNR_20170527T102301.SAFE </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> "https://apihub.copernicus.eu/apihub/odata/v1/Products('868b5b3c-92ac-412a-8a04-167008a1f08f')/$value" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The following attributes are included: mission, level, id_tile, id_orbit, sensing_datetime, ingestion_datetime, clouds, footprint, uuid, online.</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">list_safe</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "safelist"  "character"</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="va">list_safe</span>, <span class="st">"sensing_datetime"</span><span class="op">)</span> <span class="co"># extract an hidden attribute from a safelist</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2017-05-07 10:20:31 UTC" "2017-05-17 10:20:31 UTC"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3] "2017-05-27 10:20:31 UTC"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Convert to other classes</span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">s2_char</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">list_safe</span><span class="op">)</span><span class="op">)</span> <span class="co"># convert to a simple named character</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                      S2A_MSIL2A_20170507T102031_N0205_R065_T32TNR_20170507T102319.SAFE </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> "https://apihub.copernicus.eu/apihub/odata/v1/Products('a4a026c0-db7b-4ba8-9b09-53027ab0d7ab')/$value" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                      S2A_MSIL2A_20170517T102031_N0205_R065_T32TNR_20170517T102352.SAFE </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> "https://apihub.copernicus.eu/apihub/odata/v1/Products('6b7bb7bb-7598-45ac-9f2c-a3bd9cdc092f')/$value" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                      S2A_MSIL2A_20170527T102031_N0205_R065_T32TNR_20170527T102301.SAFE </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> "https://apihub.copernicus.eu/apihub/odata/v1/Products('868b5b3c-92ac-412a-8a04-167008a1f08f')/$value" </span>
<span class="r-in"><span><span class="op">(</span><span class="va">s2_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="va">list_safe</span><span class="op">)</span><span class="op">)</span> <span class="co"># convert to a data.frame</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                name</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 S2A_MSIL2A_20170507T102031_N0205_R065_T32TNR_20170507T102319.SAFE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 S2A_MSIL2A_20170517T102031_N0205_R065_T32TNR_20170517T102352.SAFE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 S2A_MSIL2A_20170527T102031_N0205_R065_T32TNR_20170527T102301.SAFE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                                                    url</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 https://apihub.copernicus.eu/apihub/odata/v1/Products('a4a026c0-db7b-4ba8-9b09-53027ab0d7ab')/$value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 https://apihub.copernicus.eu/apihub/odata/v1/Products('6b7bb7bb-7598-45ac-9f2c-a3bd9cdc092f')/$value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 https://apihub.copernicus.eu/apihub/odata/v1/Products('868b5b3c-92ac-412a-8a04-167008a1f08f')/$value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   mission level id_tile id_orbit    sensing_datetime  ingestion_datetime</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      2A   2Ap   32TNR      065 2017-05-07 10:20:31 2017-05-09 06:30:41</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      2A   2Ap   32TNR      065 2017-05-17 10:20:31 2017-06-08 12:21:23</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3      2A   2Ap   32TNR      065 2017-05-27 10:20:31 2017-05-29 08:30:44</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      clouds</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 99.999908</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  8.670091</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  6.359588</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                                                                     footprint</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 POLYGON ((8.999741 46.05357, 10.4189 46.04477, 10.39425 45.05675, 8.999746 45.06526, 8.999741 46.05357, 8.999741 46.05357))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 POLYGON ((8.999741 46.05357, 10.4189 46.04477, 10.39425 45.05675, 8.999746 45.06526, 8.999741 46.05357, 8.999741 46.05357))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3                    POLYGON ((8.999741 46.05357, 10.4189 46.04477, 10.39425 45.05675, 8.999746 45.06526, 8.999741 46.05357))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                   uuid online</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 a4a026c0-db7b-4ba8-9b09-53027ab0d7ab     NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 6b7bb7bb-7598-45ac-9f2c-a3bd9cdc092f     NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 868b5b3c-92ac-412a-8a04-167008a1f08f     NA</span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-datatable.com" class="external-link">data.table</a></span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>package 'data.table' was built under R version 4.2.2</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Attaching package: 'data.table'</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The following object is masked from 'package:raster':</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     shift</span>
<span class="r-in"><span><span class="op">(</span><span class="va">s2_dt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/as.data.table.html" class="external-link">as.data.table</a></span><span class="op">(</span><span class="va">list_safe</span><span class="op">)</span><span class="op">)</span> <span class="co"># convert to a data.table</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                 name</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1: S2A_MSIL2A_20170507T102031_N0205_R065_T32TNR_20170507T102319.SAFE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2: S2A_MSIL2A_20170517T102031_N0205_R065_T32TNR_20170517T102352.SAFE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3: S2A_MSIL2A_20170527T102031_N0205_R065_T32TNR_20170527T102301.SAFE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                                                     url</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1: https://apihub.copernicus.eu/apihub/odata/v1/Products('a4a026c0-db7b-4ba8-9b09-53027ab0d7ab')/$value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2: https://apihub.copernicus.eu/apihub/odata/v1/Products('6b7bb7bb-7598-45ac-9f2c-a3bd9cdc092f')/$value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3: https://apihub.copernicus.eu/apihub/odata/v1/Products('868b5b3c-92ac-412a-8a04-167008a1f08f')/$value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    mission level id_tile id_orbit    sensing_datetime  ingestion_datetime</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:      2A   2Ap   32TNR      065 2017-05-07 10:20:31 2017-05-09 06:30:41</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:      2A   2Ap   32TNR      065 2017-05-17 10:20:31 2017-06-08 12:21:23</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:      2A   2Ap   32TNR      065 2017-05-27 10:20:31 2017-05-29 08:30:44</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       clouds</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1: 99.999908</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:  8.670091</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:  6.359588</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                                                                      footprint</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1: POLYGON ((8.999741 46.05357, 10.4189 46.04477, 10.39425 45.05675, 8.999746 45.06526, 8.999741 46.05357, 8.999741 46.05357))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2: POLYGON ((8.999741 46.05357, 10.4189 46.04477, 10.39425 45.05675, 8.999746 45.06526, 8.999741 46.05357, 8.999741 46.05357))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:                    POLYGON ((8.999741 46.05357, 10.4189 46.04477, 10.39425 45.05675, 8.999746 45.06526, 8.999741 46.05357))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                    uuid online</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1: a4a026c0-db7b-4ba8-9b09-53027ab0d7ab     NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2: 6b7bb7bb-7598-45ac-9f2c-a3bd9cdc092f     NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3: 868b5b3c-92ac-412a-8a04-167008a1f08f     NA</span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/" class="external-link">sf</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="va">list_safe</span>, <span class="st">"footprint"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="op">(</span><span class="va">s2_sf</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html" class="external-link">st_as_sf</a></span><span class="op">(</span><span class="va">list_safe</span><span class="op">)</span><span class="op">)</span> <span class="co"># convert to sf</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Simple feature collection with 3 features and 11 fields</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Geometry type: POLYGON</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dimension:     XY</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Bounding box:  xmin: 8.999741 ymin: 45.05675 xmax: 10.4189 ymax: 46.05357</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Geodetic CRS:  WGS 84</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                name</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 S2A_MSIL2A_20170507T102031_N0205_R065_T32TNR_20170507T102319.SAFE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 S2A_MSIL2A_20170517T102031_N0205_R065_T32TNR_20170517T102352.SAFE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 S2A_MSIL2A_20170527T102031_N0205_R065_T32TNR_20170527T102301.SAFE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                                                    url</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 https://apihub.copernicus.eu/apihub/odata/v1/Products('a4a026c0-db7b-4ba8-9b09-53027ab0d7ab')/$value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 https://apihub.copernicus.eu/apihub/odata/v1/Products('6b7bb7bb-7598-45ac-9f2c-a3bd9cdc092f')/$value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 https://apihub.copernicus.eu/apihub/odata/v1/Products('868b5b3c-92ac-412a-8a04-167008a1f08f')/$value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   mission level id_tile id_orbit    sensing_datetime  ingestion_datetime</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      2A   2Ap   32TNR      065 2017-05-07 10:20:31 2017-05-09 06:30:41</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      2A   2Ap   32TNR      065 2017-05-17 10:20:31 2017-06-08 12:21:23</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3      2A   2Ap   32TNR      065 2017-05-27 10:20:31 2017-05-29 08:30:44</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      clouds                                 uuid online</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 99.999908 a4a026c0-db7b-4ba8-9b09-53027ab0d7ab     NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  8.670091 6b7bb7bb-7598-45ac-9f2c-a3bd9cdc092f     NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  6.359588 868b5b3c-92ac-412a-8a04-167008a1f08f     NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                        footprint</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 POLYGON ((8.999741 46.05357...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 POLYGON ((8.999741 46.05357...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 POLYGON ((8.999741 46.05357...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Convert from other classes</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/methods/as.html" class="external-link">as</a></span><span class="op">(</span><span class="va">s2_char</span>, <span class="st">"safelist"</span><span class="op">)</span> <span class="co"># this causes the loss of hidden attributes</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> A named vector with 3 SAFE archives.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                      S2A_MSIL2A_20170507T102031_N0205_R065_T32TNR_20170507T102319.SAFE </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> "https://apihub.copernicus.eu/apihub/odata/v1/Products('a4a026c0-db7b-4ba8-9b09-53027ab0d7ab')/$value" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                      S2A_MSIL2A_20170517T102031_N0205_R065_T32TNR_20170517T102352.SAFE </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> "https://apihub.copernicus.eu/apihub/odata/v1/Products('6b7bb7bb-7598-45ac-9f2c-a3bd9cdc092f')/$value" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                      S2A_MSIL2A_20170527T102031_N0205_R065_T32TNR_20170527T102301.SAFE </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> "https://apihub.copernicus.eu/apihub/odata/v1/Products('868b5b3c-92ac-412a-8a04-167008a1f08f')/$value" </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/methods/as.html" class="external-link">as</a></span><span class="op">(</span><span class="va">s2_df</span>, <span class="st">"safelist"</span><span class="op">)</span> <span class="co"># this (and followings) maintain attributes as columns</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> A named vector with 3 SAFE archives.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                      S2A_MSIL2A_20170507T102031_N0205_R065_T32TNR_20170507T102319.SAFE </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> "https://apihub.copernicus.eu/apihub/odata/v1/Products('a4a026c0-db7b-4ba8-9b09-53027ab0d7ab')/$value" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                      S2A_MSIL2A_20170517T102031_N0205_R065_T32TNR_20170517T102352.SAFE </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> "https://apihub.copernicus.eu/apihub/odata/v1/Products('6b7bb7bb-7598-45ac-9f2c-a3bd9cdc092f')/$value" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                      S2A_MSIL2A_20170527T102031_N0205_R065_T32TNR_20170527T102301.SAFE </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> "https://apihub.copernicus.eu/apihub/odata/v1/Products('868b5b3c-92ac-412a-8a04-167008a1f08f')/$value" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The following attributes are included: mission, level, id_tile, id_orbit, sensing_datetime, ingestion_datetime, clouds, footprint, uuid, online.</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/methods/as.html" class="external-link">as</a></span><span class="op">(</span><span class="va">s2_dt</span>, <span class="st">"safelist"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> A named vector with 3 SAFE archives.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                      S2A_MSIL2A_20170507T102031_N0205_R065_T32TNR_20170507T102319.SAFE </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> "https://apihub.copernicus.eu/apihub/odata/v1/Products('a4a026c0-db7b-4ba8-9b09-53027ab0d7ab')/$value" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                      S2A_MSIL2A_20170517T102031_N0205_R065_T32TNR_20170517T102352.SAFE </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> "https://apihub.copernicus.eu/apihub/odata/v1/Products('6b7bb7bb-7598-45ac-9f2c-a3bd9cdc092f')/$value" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                      S2A_MSIL2A_20170527T102031_N0205_R065_T32TNR_20170527T102301.SAFE </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> "https://apihub.copernicus.eu/apihub/odata/v1/Products('868b5b3c-92ac-412a-8a04-167008a1f08f')/$value" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The following attributes are included: mission, level, id_tile, id_orbit, sensing_datetime, ingestion_datetime, clouds, footprint, uuid, online.</span>
<span class="r-in"><span><span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Luigi Ranghetti, Lorenzo Busetto.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

